<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æµ‹è¯•æ‰©å±•ç¨³å®šæ€§å’Œé”™è¯¯ä¿®å¤</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.8;
    }
    .test-section {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    .test-title {
      color: #667eea;
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 10px;
    }
    .test-description {
      color: #666;
      margin-bottom: 15px;
    }
    .test-steps {
      background: white;
      padding: 15px;
      border-radius: 6px;
      border-left: 4px solid #667eea;
    }
    .step {
      margin-bottom: 8px;
    }
    .step-number {
      background: #667eea;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      margin-right: 8px;
    }
    .highlight {
      background: #fff3cd;
      padding: 2px 4px;
      border-radius: 3px;
      font-weight: 500;
    }
    .success {
      color: #28a745;
      font-weight: 500;
    }
    .warning {
      color: #ffc107;
      font-weight: 500;
    }
    .error {
      color: #dc3545;
      font-weight: 500;
    }
    .test-content {
      background: white;
      padding: 20px;
      border-radius: 8px;
      border: 2px dashed #667eea;
      margin: 20px 0;
      font-size: 16px;
      line-height: 1.8;
    }
    .test-word {
      background: #e3f2fd;
      padding: 2px 4px;
      border-radius: 3px;
      font-weight: 600;
      color: #1976d2;
    }
    .code-block {
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 4px;
      padding: 10px;
      font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
      font-size: 12px;
      color: #495057;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <h1>ğŸ›¡ï¸ æ‰©å±•ç¨³å®šæ€§å’Œé”™è¯¯ä¿®å¤æµ‹è¯•</h1>
  
  <div class="test-section">
    <div class="test-title">ğŸ“‹ ä¿®å¤è¯´æ˜</div>
    <div class="test-description">
      æœ¬æ¬¡æ›´æ–°ä¸»è¦è§£å†³äº†æ‰©å±•ä¸å¤æ‚é¡µé¢ï¼ˆå¦‚ç™¾åº¦æœç´¢ï¼‰çš„JavaScriptå†²çªé—®é¢˜ï¼Œé€šè¿‡æ·»åŠ <span class="highlight">å…¨é¢çš„å®‰å…¨æ£€æŸ¥</span>å’Œ<span class="highlight">é”™è¯¯å¤„ç†æœºåˆ¶</span>ï¼Œå¤§å¹…æå‡äº†æ‰©å±•çš„ç¨³å®šæ€§å’Œå…¼å®¹æ€§ã€‚
    </div>
  </div>

  <div class="test-section">
    <div class="test-title">ğŸ› åŸå§‹é”™è¯¯</div>
    <div class="test-description">
      <strong>é”™è¯¯ä¿¡æ¯ï¼š</strong>
      <div class="code-block">
        Uncaught TypeError: Cannot read properties of undefined (reading 'ownerDocument')<br>
        at new tt (all_async_search_ca0165e.js:958:421)
      </div>
      <strong>é—®é¢˜åŸå› ï¼š</strong> æ‰©å±•çš„DOMæ“ä½œä¸é¡µé¢å…¶ä»–JavaScriptåº“äº§ç”Ÿå†²çªï¼Œç¼ºå°‘è¶³å¤Ÿçš„å®‰å…¨æ£€æŸ¥ã€‚
    </div>
  </div>

  <div class="test-section">
    <div class="test-title">ğŸ”§ ä¿®å¤æªæ–½</div>
    <div class="test-steps">
      <div class="step">
        <span class="step-number">1</span>
        <strong>DOMå…ƒç´ æœ‰æ•ˆæ€§æ£€æŸ¥</strong> - ç¡®ä¿æ“ä½œçš„å…ƒç´ å­˜åœ¨ä¸”æœ‰æ•ˆ
      </div>
      <div class="step">
        <span class="step-number">2</span>
        <strong>å¼‚æ­¥æ“ä½œå®‰å…¨</strong> - åœ¨å¼‚æ­¥æ“ä½œåé‡æ–°éªŒè¯DOMå…ƒç´ çŠ¶æ€
      </div>
      <div class="step">
        <span class="step-number">3</span>
        <strong>å…¨é¢é”™è¯¯æ•è·</strong> - ä¸ºæ‰€æœ‰å…³é”®å‡½æ•°æ·»åŠ try-catchåŒ…è£…
      </div>
      <div class="step">
        <span class="step-number">4</span>
        <strong>å®¹é”™æœºåˆ¶</strong> - å•ä¸ªåŠŸèƒ½å¤±è´¥ä¸å½±å“å…¶ä»–åŠŸèƒ½æ­£å¸¸è¿è¡Œ
      </div>
      <div class="step">
        <span class="step-number">5</span>
        <strong>è¯¦ç»†æ—¥å¿—</strong> - æä¾›ç²¾ç¡®çš„é”™è¯¯å®šä½å’Œè°ƒè¯•ä¿¡æ¯
      </div>
    </div>
  </div>

  <div class="test-section">
    <div class="test-title">ğŸ§ª æµ‹è¯•æ­¥éª¤</div>
    <div class="test-steps">
      <div class="step">
        <span class="step-number">1</span>
        åœ¨ç™¾åº¦æœç´¢é¡µé¢æµ‹è¯•æ‰©å±•åŠŸèƒ½ï¼Œç¡®ä¿ä¸å†å‡ºç°JavaScripté”™è¯¯
      </div>
      <div class="step">
        <span class="step-number">2</span>
        åœ¨ä¸‹æ–¹æµ‹è¯•å†…å®¹ä¸­é€‰ä¸­è‹±æ–‡å•è¯ï¼Œæµ‹è¯•ç¿»è¯‘åŠŸèƒ½
      </div>
      <div class="step">
        <span class="step-number">3</span>
        æµ‹è¯•é¼ æ ‡æ‚¬åœå’Œç¦»å¼€çš„å¼¹çª—è¡Œä¸º
      </div>
      <div class="step">
        <span class="step-number">4</span>
        æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼Œæ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯
      </div>
      <div class="step">
        <span class="step-number">5</span>
        åœ¨å¤æ‚é¡µé¢ï¼ˆå¦‚æ–°é—»ç½‘ç«™ã€ç¤¾äº¤åª’ä½“ï¼‰æµ‹è¯•æ‰©å±•ç¨³å®šæ€§
      </div>
    </div>
  </div>

  <div class="test-section">
    <div class="test-title">ğŸ“ æµ‹è¯•å†…å®¹</div>
    <div class="test-content">
      <p>This is a <span class="test-word">comprehensive</span> stability test for the Chrome extension. The <span class="test-word">implementation</span> now includes robust error handling and safety checks.</p>
      
      <p>Try selecting words like <span class="test-word">appropriate</span>, <span class="test-word">development</span>, or <span class="test-word">intelligent</span> to test the enhanced translation functionality with improved stability.</p>
      
      <p>The extension should now work <span class="test-word">seamlessly</span> on complex pages without causing JavaScript conflicts or errors. Test the <span class="test-word">performance</span> and <span class="test-word">reliability</span> across different websites.</p>
      
      <p>Dynamic content testing: <span class="test-word">beautiful</span>, <span class="test-word">important</span>, <span class="test-word">automatic</span>, <span class="test-word">successful</span>.</p>
    </div>
  </div>

  <div class="test-section">
    <div class="test-title">âœ… é¢„æœŸè¡Œä¸º</div>
    <div class="test-steps">
      <div class="step">
        <span class="success">âœ“</span> æµè§ˆå™¨æ§åˆ¶å°æ— JavaScripté”™è¯¯
      </div>
      <div class="step">
        <span class="success">âœ“</span> ç¿»è¯‘åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼Œå¼¹çª—æ­£ç¡®æ˜¾ç¤ºå’Œéšè—
      </div>
      <div class="step">
        <span class="success">âœ“</span> åœ¨å¤æ‚é¡µé¢ï¼ˆç™¾åº¦ã€è°·æ­Œç­‰ï¼‰ç¨³å®šè¿è¡Œ
      </div>
      <div class="step">
        <span class="success">âœ“</span> å³ä½¿éƒ¨åˆ†åŠŸèƒ½å¤±è´¥ï¼Œå…¶ä»–åŠŸèƒ½ä»å¯æ­£å¸¸ä½¿ç”¨
      </div>
      <div class="step">
        <span class="success">âœ“</span> è¯¦ç»†çš„é”™è¯¯æ—¥å¿—å¸®åŠ©è°ƒè¯•é—®é¢˜
      </div>
    </div>
  </div>

  <div class="test-section">
    <div class="test-title">âš ï¸ æµ‹è¯•é‡ç‚¹</div>
    <div class="test-steps">
      <div class="step">
        <span class="warning">!</span> ç‰¹åˆ«å…³æ³¨ç™¾åº¦æœç´¢é¡µé¢çš„å…¼å®¹æ€§
      </div>
      <div class="step">
        <span class="warning">!</span> æ£€æŸ¥åŠ¨æ€åŠ è½½å†…å®¹çš„å¤„ç†
      </div>
      <div class="step">
        <span class="warning">!</span> éªŒè¯å¼‚æ­¥æ“ä½œçš„å®‰å…¨æ€§
      </div>
      <div class="step">
        <span class="warning">!</span> æµ‹è¯•å¿«é€Ÿé¡µé¢åˆ‡æ¢æ—¶çš„ç¨³å®šæ€§
      </div>
    </div>
  </div>

  <div class="test-section">
    <div class="test-title">ğŸ” è°ƒè¯•ä¿¡æ¯</div>
    <div class="test-description">
      å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„ä»¥ä¸‹æ—¥å¿—ï¼š
      <div class="code-block">
        å¤šå¤šè®°å•è¯æ‰©å±•å¼€å§‹åˆå§‹åŒ–...<br>
        å¼¹å‡ºé¡µé¢åŠ è½½å•è¯: X ä¸ª<br>
        å¤šå¤šè®°å•è¯æ‰©å±•åˆå§‹åŒ–å®Œæˆ<br>
        <br>
        å¦‚æœå‡ºç°é”™è¯¯ï¼Œä¼šæ˜¾ç¤ºè¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼š<br>
        showWordTooltip: æ— æ•ˆçš„elementå‚æ•°<br>
        createTooltip: document.bodyä¸å­˜åœ¨<br>
        handleWordHoveré”™è¯¯: [å…·ä½“é”™è¯¯ä¿¡æ¯]
      </div>
    </div>
  </div>

  <div class="test-section">
    <div class="test-title">ğŸ“ˆ æ”¹è¿›å¯¹æ¯”</div>
    <div class="test-description">
      <strong>v1.7.6 ä¹‹å‰ï¼š</strong>
      <ul>
        <li class="error">âŒ åœ¨å¤æ‚é¡µé¢å®¹æ˜“å‡ºç°JavaScriptå†²çª</li>
        <li class="error">âŒ ç¼ºå°‘DOMæ“ä½œçš„å®‰å…¨æ£€æŸ¥</li>
        <li class="error">âŒ é”™è¯¯å¤„ç†ä¸å¤Ÿå®Œå–„</li>
        <li class="error">âŒ ä¸€ä¸ªåŠŸèƒ½å¤±è´¥å¯èƒ½å½±å“æ•´ä¸ªæ‰©å±•</li>
      </ul>
      
      <strong>v1.7.7 ç°åœ¨ï¼š</strong>
      <ul>
        <li class="success">âœ… å…¨é¢çš„DOMå®‰å…¨æ£€æŸ¥</li>
        <li class="success">âœ… å¼‚æ­¥æ“ä½œçš„çŠ¶æ€éªŒè¯</li>
        <li class="success">âœ… å®Œå–„çš„é”™è¯¯æ•è·å’Œå¤„ç†</li>
        <li class="success">âœ… æ¨¡å—åŒ–çš„å®¹é”™æœºåˆ¶</li>
        <li class="success">âœ… è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—</li>
      </ul>
    </div>
  </div>

  <div class="test-section">
    <div class="test-title">ğŸ“ ç‰ˆæœ¬ä¿¡æ¯</div>
    <div class="test-description">
      <strong>ç‰ˆæœ¬ï¼š</strong> v1.7.7<br>
      <strong>æ›´æ–°æ—¥æœŸï¼š</strong> 2024-12-19<br>
      <strong>æ›´æ–°ç±»å‹ï¼š</strong> ç¨³å®šæ€§æ”¹è¿›<br>
      <strong>ä¸»è¦ä¿®å¤ï¼š</strong> JavaScriptå†²çªå’ŒDOMæ“ä½œå®‰å…¨æ€§
    </div>
  </div>

  <!-- åŠ¨æ€æµ‹è¯•è„šæœ¬ -->
  <script>
    // æ¨¡æ‹Ÿå¤æ‚é¡µé¢ç¯å¢ƒï¼Œæµ‹è¯•æ‰©å±•çš„å…¼å®¹æ€§
    console.log('æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹å…¼å®¹æ€§æµ‹è¯•...');
    
    // æ¨¡æ‹Ÿä¸€äº›å¯èƒ½å¯¼è‡´å†²çªçš„æ“ä½œ
    setTimeout(() => {
      const testDiv = document.createElement('div');
      testDiv.innerHTML = 'Dynamic content with <span>test words</span>';
      document.body.appendChild(testDiv);
      
      // ç«‹å³ç§»é™¤ï¼Œæµ‹è¯•æ‰©å±•å¯¹DOMå˜åŒ–çš„å¤„ç†
      setTimeout(() => {
        if (testDiv.parentNode) {
          testDiv.remove();
        }
      }, 100);
    }, 1000);
  </script>
</body>
</html> 