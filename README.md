# 多多记单词

一个Chrome浏览器插件，帮助你在浏览网页时学习和记忆英文单词。

## 🎯 让英语学习融入你的每一天

### 📱 核心理念
**工作学习必备！选中网页任意英文单词，瞬间获得多种翻译+音标发音+例句同义词，一键收藏永久高亮。让你在浏览网页、阅读文档、看新闻时随时随地积累词汇，轻松提升英语水平！**

### 🌟 为什么选择多多记单词？

**🚀 告别传统背单词的枯燥方式！**

你是否经常在工作中遇到英文文档？在浏览国外网站时碰到生词？在看英文新闻时想快速理解含义？"多多记单词"让你的每一次网页浏览都变成学习机会！

**✨ 核心优势**

🎯 **零打断学习体验**
- 无需切换页面，选中单词即刻翻译
- 不影响工作流程，学习融入日常
- 支持所有网站，随时随地积累词汇

📚 **专业级翻译质量**
- 多源翻译：MyMemory + 微软翻译 + 英文词典
- 每个单词显示多种含义，理解更全面
- 国际音标 + 真人发音，掌握正确读音
- 词性分类 + 例句同义词，深度学习

💡 **智能记忆系统**
- 一键收藏重要单词
- 已学单词自动高亮，强化记忆
- 数据永久保存，支持导入导出
- 学习进度一目了然

**🎯 适合人群：**
- 📊 **职场人士**：处理英文邮件、文档、报告时快速查词
- 🎓 **学生党**：阅读英文论文、资料时高效学习
- 📰 **资讯达人**：浏览国外网站、新闻时扩展词汇
- 🌍 **英语爱好者**：利用碎片时间提升英语水平

**💪 真实使用场景：**
- 看GitHub项目文档时遇到技术词汇 → 选中翻译收藏
- 阅读英文新闻时碰到生词 → 瞬间理解继续阅读
- 处理英文邮件时不确定词义 → 快速查看多种含义
- 浏览购物网站时看产品描述 → 学会实用词汇

---

## 功能特点

### 🔍 智能单词识别
- 选中任意英文单词，自动显示翻译按钮（📖图标）
- 选中包含英文的长文本，自动显示文本翻译按钮（🌐图标）
- 支持所有网页，无需特殊设置
- **右键菜单翻译**: 选中单词后右键点击，直接选择"多多记单词"
- **双重触发方式**: 支持翻译按钮和右键菜单两种方式

### 📖 丰富的翻译功能
- **多源翻译**: 同时调用MyMemory翻译API、微软翻译API和英文词典API
- **多重中文翻译**: 每个单词显示多种中文含义，如"converse: 交谈，反转，谈话，相反的"
- **长文本翻译**: 选中包含英文的长句或段落，自动识别并提供整句翻译
- **智能识别**: 自动区分单词翻译（📖图标）和文本翻译（🌐图标）
- **本地词典**: 内置500+常用词汇的多重翻译
- **音标显示**: 显示国际音标，支持音频发音
- **词性分类**: 按名词、动词、形容词等词性分类显示
- **详细释义**: 提供英文定义和中文翻译
- **例句展示**: 显示单词在实际语境中的使用
- **同义词**: 列出相关同义词，扩展词汇量

### ❤️ 单词收藏
- 一键收藏/取消收藏单词
- 本地存储，数据安全可靠
- 支持批量管理收藏的单词
- **🔍 收藏单词详情查看**: 在扩展弹出页面中点击收藏的单词可查看详细信息
- **📖 UI复用**: 复用网页划词翻译的UI组件，保持一致的用户体验
- **🔊 完整功能**: 支持发音播放、音标显示、翻译信息等完整功能

### ✅ 已认识单词管理 🆕
- **🎯 智能分类**: 将学习中的单词与已掌握的单词分开管理
- **✅ 一键标记**: 在收藏列表中点击"认识"按钮，将单词标记为已掌握
- **📊 进度统计**: 实时显示已认识单词数量，可视化学习成果
- **📝 独立管理**: 已认识单词拥有独立的列表和管理功能
- **🖱️ 悬停详情**: 支持鼠标悬停查看已认识单词的完整翻译信息
- **🗑️ 灵活操作**: 支持单个删除和批量清空已认识单词
- **💾 数据同步**: 已认识单词状态在所有标签页间实时同步
- **🕒 时间记录**: 自动记录单词的认识时间，便于学习回顾

### 🎨 智能高亮
- 已收藏的单词在所有网页中自动高亮显示
- 鼠标悬停或点击高亮单词查看完整翻译
- 美观的渐变色高亮效果

### 📊 学习统计
- 弹出页面显示收藏单词总数
- 清晰的单词列表管理界面
- 支持单个删除和批量清空

### 🔊 发音功能
- **双语音支持**: 支持美式和英式发音，标识清晰
- **多种播放方式**: 
  - 浏览器内置TTS语音合成（最可靠）
  - Google TTS在线语音服务
  - ResponsiveVoice备用服务
- **智能降级**: 自动选择最佳可用的语音服务
- **视觉反馈**: 发音按钮有点击动画效果
- **错误处理**: 播放失败时显示友好提示
- **发音差异**: 体验schedule、privacy等单词的美英发音差异

### 💾 数据持久化
- **自动备份**: 每10个单词自动创建备份点
- **版本迁移**: 插件更新时自动迁移旧数据
- **手动导出**: 支持导出JSON格式的备份文件
- **数据导入**: 支持从备份文件恢复数据
- **多重保护**: 本地存储 + 自动备份 + 手动备份三重保护

## 安装方法

1. 下载或克隆此项目到本地
2. 打开Chrome浏览器，进入扩展程序页面 (`chrome://extensions/`)
3. 开启"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择项目文件夹
6. 插件安装完成！

## 使用方法

### 翻译单词
1. 在任意网页上用鼠标选中英文单词
2. 点击出现的📖翻译按钮
3. 查看丰富的翻译信息：
   - 音标和发音
   - 多种中文翻译
   - 英文定义
   - 例句
   - 同义词
4. 选择是否收藏该单词

### 🖱️ 右键菜单翻译（新功能）
1. 在任意网页上用鼠标选中英文单词
2. 右键点击选中的文本
3. 在右键菜单中选择"多多记单词"
4. 自动弹出翻译窗口，显示完整的翻译信息
5. 无需等待翻译按钮出现，操作更快捷

**右键菜单的优势：**
- ⚡ **更快速**: 无需等待翻译按钮出现
- 🎯 **更精准**: 直接对选中文本进行翻译
- 🔄 **更便捷**: 符合用户习惯的右键操作
- 📱 **更稳定**: 不受页面布局影响

### 管理收藏单词
1. 点击浏览器工具栏中的插件图标
2. 查看已收藏的单词列表
3. **🆕 点击单词查看详情**: 点击列表中的任意单词可查看详细翻译信息
4. 支持在详情弹窗中直接取消收藏
5. 支持单个删除或批量清空

### 🆕 管理已认识单词
1. 在收藏单词列表中，点击单词旁边的绿色"认识"按钮
2. 单词将从收藏列表移除，并添加到"已认识的单词"列表
3. 在"已认识的单词"区域查看所有已掌握的单词
4. 鼠标悬停已认识的单词可查看完整翻译信息
5. 支持删除单个已认识单词或批量清空
6. 统计数据实时更新，显示学习进度

### 查看高亮单词
1. 已收藏的单词会在所有网页中自动高亮
2. 鼠标悬停查看完整翻译信息
3. 点击可以取消收藏或查看详细信息

### 数据备份与恢复
1. **自动备份**: 插件会自动备份你的数据
2. **手动导出**: 点击"导出数据"按钮下载备份文件
3. **数据导入**: 点击"导入数据"按钮选择备份文件恢复
4. **版本升级**: 更新插件时数据会自动迁移

## 技术特点

- **Manifest V3**: 使用最新的Chrome扩展API
- **右键菜单集成**: 原生浏览器右键菜单支持，操作更便捷
- **多API集成**: 
  - MyMemory翻译API (免费)
  - 微软翻译API (免费)
  - Dictionary API (免费英文词典)
  - 本地多重词典
- **数据持久化**: 
  - Chrome Storage API本地存储
  - 自动备份机制
  - 版本迁移支持
  - 手动导入导出
- **响应式设计**: 适配不同屏幕尺寸
- **性能优化**: 智能文本节点遍历，不影响页面性能
- **音频支持**: 集成发音功能

## 翻译信息展示

### 翻译结果包含：
1. **基本信息**
   - 单词本身
   - 国际音标
   - 音频发音按钮

2. **多重翻译**
   - MyMemory翻译结果
   - 微软翻译结果
   - 本地词典多重含义
   - 来源标注

3. **词典信息**
   - 词性分类（名词、动词等）
   - 英文定义
   - 使用例句
   - 相关同义词

4. **交互功能**
   - 收藏/取消收藏
   - 音频播放
   - 详细信息展开

## 多重翻译示例

插件会为每个单词提供多种中文含义：

- **memorize**: 记忆，背诵，熟记，记住
- **converse**: 交谈，反转，谈话，相反的
- **study**: 学习，研究，书房，调查
- **work**: 工作，劳动，运转，起作用
- **play**: 玩，播放，演奏，比赛

## 文件结构

```
多多记单词/
├── manifest.json      # 插件配置文件
├── content.js         # 内容脚本 - 主要功能逻辑
├── content.css        # 内容脚本样式
├── background.js      # 后台脚本
├── popup.html         # 弹出页面
├── popup.js           # 弹出页面脚本
├── icons/             # 插件图标
└── README.md          # 说明文档
```

## 开发说明

### 主要功能模块

1. **文本选择处理** (`content.js`)
   - 监听鼠标选择事件
   - 识别英文单词
   - 显示翻译按钮

2. **右键菜单集成** (`background.js`, `content.js`)
   - 创建浏览器原生右键菜单项
   - 处理右键菜单点击事件
   - 消息传递机制，触发翻译功能

3. **多源翻译服务** (`content.js`)
   - MyMemory API调用
   - 微软翻译API调用
   - Dictionary API调用
   - 本地多重词典
   - 翻译结果整合

4. **丰富界面展示** (`content.js`, `content.css`)
   - 音标和发音
   - 多重翻译显示
   - 词性分类
   - 例句和同义词
   - 响应式布局

5. **数据持久化** (`content.js`, `popup.js`)
   - Chrome Storage API
   - 自动备份机制
   - 版本迁移
   - 导入导出功能

6. **高亮系统** (`content.js`)
   - DOM文本节点遍历
   - 动态高亮渲染
   - 性能优化

### API使用说明

1. **MyMemory翻译API**
   - 免费，无需注册
   - 提供英译中服务
   - 限制：每日1000次请求

2. **微软翻译API**
   - 免费接口
   - 提供英译中服务
   - 作为备用翻译源

3. **Dictionary API**
   - 完全免费
   - 提供英文词典信息
   - 包含音标、定义、例句等

4. **本地多重词典**
   - 内置500+常用单词
   - 每个单词多种含义
   - 离线可用

### 数据存储结构

```json
{
  "savedWords": ["word1", "word2", ...],
  "dataVersion": "1.1.0",
  "backupData": {
    "words": [...],
    "version": "1.1.0",
    "timestamp": 1234567890,
    "count": 100
  },
  "lastBackup": 1234567890
}
```

### 自定义配置

可以在 `content.js` 中修改以下配置：

- 翻译API端点
- 本地词典内容
- 高亮样式类名
- 按钮显示时间
- 显示的定义数量限制
- 自动备份频率

## 许可证

MIT License

## 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 更新日志

### v1.8.0 🆕
- ✅ **重大新功能：已认识单词管理系统**
- ✅ 在收藏单词列表中添加绿色"认识"按钮
- ✅ 新增"已认识单词"数量统计和独立管理区域
- ✅ 支持将已掌握的单词从收藏列表移动到已认识列表
- ✅ 已认识单词支持悬停查看详情、删除和批量清空
- ✅ 完整的数据导出/导入支持，包含已认识单词信息
- ✅ 跨标签页实时同步已认识单词状态
- ✅ 自动记录单词认识时间，便于学习回顾
- ✅ 提供完整的学习进度可视化和成就感体验

### v1.6.2
- 🖱️ **新增右键菜单翻译功能**
  - 选中单词后右键点击，直接选择"多多记单词"
  - 无需等待翻译按钮出现，操作更快捷
  - 符合用户习惯的右键操作方式
  - 支持双重触发：翻译按钮 + 右键菜单
- ✅ 添加contextMenus权限支持
- ✅ 完善消息传递机制，确保功能稳定
- ✅ 创建测试页面验证右键菜单功能

### v1.6.1
- 🎨 **优化发音按钮布局**
  - 美式和英式发音分两行显示，布局更清晰
  - 每行发音按钮前显示对应的音标
  - 动态获取并显示实际单词的音标信息
  - 保留原有音标显示区域，提供更完整的发音信息
- ✅ 改进发音按钮样式，尺寸更紧凑
- ✅ 增强音标显示的可读性和美观度

### v1.6.0
- 🔊 **新增语音朗读功能**
  - 支持美式和英式发音选择
  - 集成浏览器内置TTS语音合成
  - 添加Google TTS和ResponsiveVoice备用服务
  - 智能语音服务降级机制
  - 美观的发音按钮设计，支持点击动画
  - 完善的错误处理和用户提示
  - 体验schedule、privacy等单词的美英发音差异
- ✅ 优化翻译界面布局，发音按钮位置更合理
- ✅ 增强用户交互体验，添加视觉反馈效果
- ✅ 提升插件的语言学习价值

### v1.5.5
- 🐛 修复删除单词后刷新页面数据恢复的问题
- ✅ 解决popup.js和content.js数据同步不一致的问题
- ✅ 添加跨标签页的删除消息通知机制
- ✅ 改进存储变化监听器，确保所有数据类型同步更新
- ✅ 增强删除操作的数据持久性和一致性

### v1.5.4
- 🐛 修复删除按钮点击无反应的问题
- ✅ 改用事件委托替代内联onclick，避免CSP限制
- ✅ 添加详细的调试日志，便于问题排查
- ✅ 优化事件处理机制，提高删除功能的可靠性

### v1.5.3
- 🐛 修复单个删除单词功能失败的问题
- 🐛 修复删除单词后今日新增数量不更新的问题
- ✅ 删除单词时现在会同时清理单词详细数据和翻译缓存
- ✅ 改进存储变化监听器，确保UI实时更新
- ✅ 优化删除和清空操作的用户反馈

### v1.5.2
- 🐛 修复单个删除单词功能失败的问题
- 🐛 修复删除单词后今日新增数量不更新的问题
- ✅ 删除单词时现在会同时清理单词详细数据和翻译缓存
- ✅ 改进存储变化监听器，确保UI实时更新
- ✅ 优化删除和清空操作的用户反馈

### v1.5.1
- ✅ 修复导出功能，现在包含完整的翻译缓存数据
- ✅ 改进导入功能，支持导入翻译缓存和高亮颜色设置
- ✅ 增强微软翻译，添加词典查询获取多重含义
- ✅ 改进MyMemory翻译，从高质量匹配中提取更多翻译选项
- ✅ 每个单词现在显示更丰富的翻译结果
- ✅ 优化翻译结果的去重和格式化

### v1.5.0
- ✅ 完全移除备用翻译词典
- ✅ 插件现在100%依赖真实API翻译结果
- ✅ 移除所有本地化翻译数据
- ✅ 最大化翻译结果的准确性和专业性
- ✅ 显著减少插件体积和内存占用

### v1.4.2
- ✅ 简化MyMemory翻译功能
- ✅ 移除多个翻译结果的合并处理
- ✅ 每个翻译源只返回单一、最准确的翻译结果
- ✅ 进一步提升翻译结果的简洁性和可读性

### v1.4.1
- ✅ 移除本地化增强翻译功能
- ✅ 专注于真实API翻译结果
- ✅ 简化备用翻译词典，只保留基本含义
- ✅ 提高翻译结果的准确性和可靠性
- ✅ 减少插件体积，提升性能

### v1.4.0
- ✅ 新增翻译数据持久化功能
- ✅ 收藏单词时自动保存翻译数据到本地
- ✅ 已收藏单词优先从缓存获取翻译，避免重复API调用
- ✅ 优化翻译API调用策略：优先微软翻译，失败后使用MyMemory
- ✅ 提高翻译效率，节省API消费
- ✅ 支持翻译缓存的导入导出
- ✅ 改进数据备份机制，包含翻译历史

### v1.3.1
- ✅ 增强多重含义翻译功能
- ✅ 新增25+常用单词的多重含义词典
- ✅ 改进MyMemory翻译，支持多个翻译结果
- ✅ 优化备用翻译，提供更丰富的含义
- ✅ 每个单词现在显示3-4种不同含义

### v1.3.0
- ✅ 优化翻译加载UI，添加美观的加载动画
- ✅ 收藏按钮移至顶部，操作更便捷
- ✅ 新增高亮颜色自定义功能
- ✅ 提供8种预设高亮颜色选择
- ✅ 支持自定义颜色选择器
- ✅ 移除本地翻译词典，减少插件体积
- ✅ 优化界面布局和用户体验

### v1.2.0
- ✅ 移除百度翻译API（不再可用）
- ✅ 新增微软翻译API支持
- ✅ 使用Edge浏览器免费翻译接口
- ✅ 优化翻译源配置
- ✅ 改进错误处理机制

### v1.1.0
- ✅ 插件重命名为"多多记单词"
- ✅ 增加多重中文翻译功能
- ✅ 新增微软翻译API支持
- ✅ 扩展本地词典到500+单词
- ✅ 完善数据持久化方案
- ✅ 添加自动备份机制
- ✅ 支持数据导入导出
- ✅ 版本升级数据迁移
- ✅ 改进用户界面设计

### v1.0.0
- ✅ 基础翻译功能
- ✅ 单词收藏系统
- ✅ 智能高亮显示
- ✅ 多源翻译集成
- ✅ 音标和发音支持
- ✅ 词性分类显示
- ✅ 例句和同义词
- ✅ 响应式界面设计 